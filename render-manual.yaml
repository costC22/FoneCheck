services:
  - type: web
    name: fonecheck-manual
    env: python
    plan: free
    pythonVersion: 3.10.12
    buildCommand: |
      echo "üö® FOR√áANDO PYTHON 3.10.12 NO RENDER..."
      
      # Verificar vers√£o atual
      echo "Vers√£o atual do Python:"
      python --version
      python3 --version
      
      # Instalar pyenv para for√ßar Python 3.10.12
      echo "üì¶ Instalando pyenv..."
      curl https://pyenv.run | bash
      export PATH="$HOME/.pyenv/bin:$PATH"
      eval "$(pyenv init -)"
      
      # Instalar Python 3.10.12
      echo "üêç Instalando Python 3.10.12 via pyenv..."
      pyenv install 3.10.12
      pyenv global 3.10.12
      
      # Verificar se funcionou
      echo "‚úÖ Vers√£o ap√≥s pyenv:"
      python --version
      python3 --version
      
      # Atualizar pip
      python -m pip install --upgrade pip==23.3.1
      
      # Instalar setuptools e wheel primeiro
      python -m pip install --upgrade setuptools==68.2.2 wheel==0.41.2
      
      # Instalar depend√™ncias
      python -m pip install -r requirements-python310.txt
      
      echo "üéâ Build conclu√≠do com Python 3.10.12!"
    startCommand: gunicorn --bind 0.0.0.0:$PORT app:app
